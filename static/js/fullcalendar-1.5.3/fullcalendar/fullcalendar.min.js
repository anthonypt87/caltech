/*

 FullCalendar v1.5.3
 http://arshaw.com/fullcalendar/

 Use fullcalendar.css for basic styling.
 For event drag & drop, requires jQuery UI draggable.
 For event resizing, requires jQuery UI resizable.

 Copyright (c) 2011 Adam Shaw
 Dual licensed under the MIT and GPL licenses, located in
 MIT-LICENSE.txt and GPL-LICENSE.txt respectively.

 Date: Sun Sep 16 13:24:12 2012 +0300

*/
(function(p,ta){function nb(a){p.extend(true,cb,a)}function $b(a,b,e){function d(w){if(Q){B();u();ua();O(w)}else g()}function g(){F=b.theme?"ui":"fc";a.addClass("fc");b.isRTL&&a.addClass("fc-rtl");b.theme&&a.addClass("ui-widget");Q=p("<div class='fc-content' style='position:relative'/>").prependTo(a);I=new ac(aa,b);(L=I.render())&&a.prepend(L);n(b.defaultView);p(window).resize(na);h()||l()}function l(){setTimeout(function(){!s.start&&h()&&O()},0)}function j(){p(window).unbind("resize",na);I.destroy();
Q.remove();a.removeClass("fc fc-rtl ui-widget")}function i(){return z.offsetWidth!==0}function h(){return p("body")[0].offsetWidth!==0}function n(w){if(!s||w!=s.name){y++;W();var R=s,ka;if(R){(R.beforeHide||Gb)();Wa(Q,Q.height());R.element.hide()}else Wa(Q,1);Q.css("overflow","hidden");if(s=k[w])s.element.show();else s=k[w]=new Fa[w](ka=M=p("<div class='fc-view fc-view-"+w+"' style='position:absolute'/>").appendTo(Q),aa);R&&I.deactivateButton(R.name);I.activateButton(w);O();Q.css("overflow","");R&&
Wa(Q,1);ka||(s.afterShow||Gb)();y--}}function O(w){if(i()){y++;W();G===ta&&B();var R=false;if(!s.start||w||J<s.start||J>=s.end){s.render(J,w||0);ia(true);R=true}else if(s.sizeDirty){s.clearEvents();ia();R=true}else if(s.eventsDirty){s.clearEvents();R=true}s.sizeDirty=false;s.eventsDirty=false;ra(R);m=a.outerWidth();I.updateTitle(s.title);w=new Date;w>=s.start&&w<s.end?I.disableButton("today"):I.enableButton("today");y--;s.trigger("viewDisplay",z)}}function S(){u();if(i()){B();ia();W();s.clearEvents();
s.renderEvents(da);s.sizeDirty=false}}function u(){p.each(k,function(w,R){R.sizeDirty=true})}function B(){G=b.contentHeight?b.contentHeight:b.height?b.height-(L?L.height():0)-Pa(Q):Math.round(Q.width()/Math.max(b.aspectRatio,0.5))}function ia(w){y++;s.setHeight(G,w);if(M){M.css("position","relative");M=null}s.setWidth(Q.width(),w);y--}function na(){if(!y)if(s.start){var w=++v;setTimeout(function(){if(w==v&&!y&&i())if(m!=(m=a.outerWidth())){y++;S();s.trigger("windowResize",z);y--}},200)}else l()}function ra(w){if(!b.lazyFetching||
H(s.visStart,s.visEnd))xa();else w&&ja()}function xa(){Y(s.visStart,s.visEnd)}function va(){ma(false);k=[];s.element.remove();s=k[s.name]=new Fa[s.name](M=p("<div class='fc-view fc-view-"+s.name+"' style='position:absolute'/>").appendTo(Q),aa);O()}function ga(w){da=w;ja()}function ba(w){ja(w)}function ja(w){ua();if(i()){s.clearEvents();s.renderEvents(da,w);s.eventsDirty=false}}function ua(){p.each(k,function(w,R){R.eventsDirty=true})}function sa(w,R,ka){s.select(w,R,ka===ta?true:ka)}function W(){s&&
s.unselect()}function fa(){O(-1)}function oa(){O(1)}function qa(){ob(J,-1);O()}function V(){ob(J,1);O()}function A(){J=new Date;O()}function q(w,R,ka){if(w instanceof Date)J=x(w);else Hb(J,w,R,ka);O()}function c(w,R,ka){w!==ta&&ob(J,w);R!==ta&&Xa(J,R);ka!==ta&&Z(J,ka);O()}function C(){return x(J)}function D(){return s}function T(w,R){if(R===ta)return b[w];if(w=="height"||w=="contentHeight"||w=="aspectRatio"){b[w]=R;S()}}function ha(w,R){if(b[w])return b[w].apply(R||z,Array.prototype.slice.call(arguments,
2))}var aa=this;aa.options=b;aa.render=d;aa.destroy=j;aa.refetchEvents=xa;aa.reportEvents=ga;aa.refetchResources=va;aa.reportEventChange=ba;aa.rerenderEvents=ja;aa.changeView=n;aa.select=sa;aa.unselect=W;aa.prev=fa;aa.next=oa;aa.prevYear=qa;aa.nextYear=V;aa.today=A;aa.gotoDate=q;aa.incrementDate=c;aa.formatDate=function(w,R){return Qa(w,R,b)};aa.formatDates=function(w,R,ka){return pb(w,R,ka,b)};aa.getDate=C;aa.getView=D;aa.option=T;aa.trigger=ha;bc.call(aa,b,e);var H=aa.isFetchNeeded,Y=aa.fetchEvents;
cc.call(aa,b);var ma=aa.fetchResources,z=a[0],I,L,Q,F,s,k={},m,G,M,v=0,y=0,J=new Date,da=[],ea;Hb(J,b.year,b.month,b.date);b.droppable&&p(document).bind("dragstart",function(w,R){var ka=w.target,pa=p(ka);if(!pa.parents(".fc").length){var $=b.dropAccept;if(p.isFunction($)?$.call(ka,pa):pa.is($)){ea=ka;s.dragStart(ea,w,R)}}}).bind("dragstop",function(w,R){if(ea){s.dragStop(ea,w,R);ea=null}})}function ac(a,b){function e(){u=b.theme?"ui":"fc";if(b.header)return S=p("<table class='fc-header' style='width:100%'/>").append(p("<tr/>").append(g("left")).append(g("center")).append(g("right")))}
function d(){S.remove()}function g(B){var ia=p("<td class='fc-header-"+B+"'/>");(B=b.header[B])&&p.each(B.split(" "),function(na){na>0&&ia.append("<span class='fc-header-space'/>");var ra;p.each(this.split(","),function(xa,va){if(va=="title"){ia.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");ra&&ra.addClass(u+"-corner-right");ra=null}else{var ga;if(a[va])ga=a[va];else if(Fa[va])ga=function(){ja.removeClass(u+"-state-hover");a.changeView(va)};if(ga){xa=b.theme?qb(b.buttonIcons,va):
null;var ba=qb(b.buttonText,va),ja=p("<span class='fc-button fc-button-"+va+" "+u+"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+(xa?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+xa+"'/></span>":ba)+"</span><span class='fc-button-effect'><span></span></span></span></span>");if(ja){ja.click(function(){ja.hasClass(u+"-state-disabled")||ga()}).mousedown(function(){ja.not("."+u+"-state-active").not("."+u+"-state-disabled").addClass(u+"-state-down")}).mouseup(function(){ja.removeClass(u+
"-state-down")}).hover(function(){ja.not("."+u+"-state-active").not("."+u+"-state-disabled").addClass(u+"-state-hover")},function(){ja.removeClass(u+"-state-hover").removeClass(u+"-state-down")}).appendTo(ia);ra||ja.addClass(u+"-corner-left");ra=ja}}}});ra&&ra.addClass(u+"-corner-right")});return ia}function l(B){S.find("h2").html(B)}function j(B){S.find("span.fc-button-"+B).addClass(u+"-state-active")}function i(B){S.find("span.fc-button-"+B).removeClass(u+"-state-active")}function h(B){S.find("span.fc-button-"+
B).addClass(u+"-state-disabled")}function n(B){S.find("span.fc-button-"+B).removeClass(u+"-state-disabled")}var O=this;O.render=e;O.destroy=d;O.updateTitle=l;O.activateButton=j;O.deactivateButton=i;O.disableButton=h;O.enableButton=n;var S=p([]),u}function bc(a,b){function e(c,C){return!fa||c<fa||C>oa}function d(c,C){fa=c;oa=C;q=[];c=++qa;V=C=W.length;for(var D=0;D<C;D++)g(W[D],c)}function g(c,C){l(c,function(D){if(C==qa){if(D){for(var T=0;T<D.length;T++){D[T].source=c;na(D[T])}q=q.concat(D)}V--;V||
ua(q)}})}function l(c,C){var D,T=Da.sourceFetchers,ha;for(D=0;D<T.length;D++){ha=T[D](c,fa,oa,C);if(ha===true)return;else if(typeof ha=="object"){l(ha,C);return}}if(D=c.events)if(p.isFunction(D)){B();D(x(fa),x(oa),function(ma){C(ma);ia()})}else p.isArray(D)?C(D):C();else if(c.url){var aa=c.success,H=c.error,Y=c.complete;D=p.extend({},c.data||{});T=Ya(c.startParam,a.startParam);ha=Ya(c.endParam,a.endParam);if(T)D[T]=Math.round(+fa/1E3);if(ha)D[ha]=Math.round(+oa/1E3);B();p.ajax(p.extend({},dc,c,{data:D,
success:function(ma){ma=ma||[];var z=db(aa,this,arguments);if(p.isArray(z))ma=z;C(ma)},error:function(){db(H,this,arguments);C()},complete:function(){db(Y,this,arguments);ia()}}))}else C()}function j(c){if(c=i(c)){V++;g(c,qa)}}function i(c){if(p.isFunction(c)||p.isArray(c))c={events:c};else if(typeof c=="string")c={url:c};if(typeof c=="object"){ra(c);W.push(c);return c}}function h(c){W=p.grep(W,function(C){return!xa(C,c)});q=p.grep(q,function(C){return!xa(C.source,c)});ua(q)}function n(c){var C,D=
q.length,T,ha=ja().defaultEventEnd,aa=c.start-c._start,H=c.end?c.end-(c._end||ha(c)):0;for(C=0;C<D;C++){T=q[C];if(T._id==c._id&&T!=c){T.start=new Date(+T.start+aa);T.end=c.end?T.end?new Date(+T.end+H):new Date(+ha(T)+H):null;T.title=c.title;T.url=c.url;T.allDay=c.allDay;T.className=c.className;T.editable=c.editable;T.color=c.color;T.backgroudColor=c.backgroudColor;T.borderColor=c.borderColor;T.textColor=c.textColor;na(T)}}na(c);ua(q)}function O(c,C){na(c);if(!c.source){if(C){sa.events.push(c);c.source=
sa}q.push(c)}ua(q)}function S(c){if(c){if(!p.isFunction(c)){var C=c+"";c=function(T){return T._id==C}}q=p.grep(q,c,true);for(D=0;D<W.length;D++)if(p.isArray(W[D].events))W[D].events=p.grep(W[D].events,c,true)}else{q=[];for(var D=0;D<W.length;D++)if(p.isArray(W[D].events))W[D].events=[]}ua(q)}function u(c){if(p.isFunction(c))return p.grep(q,c);else if(c){c+="";return p.grep(q,function(C){return C._id==c})}return q}function B(){A++||ba("loading",null,true)}function ia(){--A||ba("loading",null,false)}
function na(c){var C=c.source||{},D=Ya(C.ignoreTimezone,a.ignoreTimezone);c._id=c._id||(c.id===ta?"_fc"+ec++:c.id+"");if(c.date){if(!c.start)c.start=c.date;delete c.date}c._start=x(c.start=rb(c.start,D));c.end=rb(c.end,D);if(c.end&&c.end<=c.start)c.end=null;c._end=c.end?x(c.end):null;if(c.allDay===ta)c.allDay=Ya(C.allDayDefault,a.allDayDefault);if(c.className){if(typeof c.className=="string")c.className=c.className.split(/\s+/)}else c.className=[]}function ra(c){if(c.className){if(typeof c.className==
"string")c.className=c.className.split(/\s+/)}else c.className=[];for(var C=Da.sourceNormalizers,D=0;D<C.length;D++)C[D](c)}function xa(c,C){return c&&C&&va(c)==va(C)}function va(c){return(typeof c=="object"?c.events||c.url:"")||c}var ga=this;ga.isFetchNeeded=e;ga.fetchEvents=d;ga.addEventSource=j;ga.removeEventSource=h;ga.updateEvent=n;ga.renderEvent=O;ga.removeEvents=S;ga.clientEvents=u;ga.normalizeEvent=na;var ba=ga.trigger,ja=ga.getView,ua=ga.reportEvents,sa={events:[]},W=[sa],fa,oa,qa=0,V=0,
A=0,q=[];for(ga=0;ga<b.length;ga++)i(b[ga])}function cc(a){function b(i){var h={};if(p.isFunction(i)){h={resources:i};l.push(h)}else if(typeof i=="string"){h={url:i};l.push(h)}else if(typeof i=="object")for(var n=0;n<i.length;n++){h=i[n];g(h);h={resources:h};l.push(h)}}function e(i){i=typeof i!=="undefined"?i:true;if(!(j!=ta&&i)){j=[];i=l.length;for(var h=0;h<i;h++){var n=d(l[h]);j=j.concat(n)}}return j}function d(i){var h=i.resources;if(h){if(p.isFunction(h))return h()}else{var n=i.url;n&&p.ajax({url:n,
dataType:"json",cache:false,success:function(O){h=O=O||[]},error:function(){alert("ajax error getting json from "+n)},async:false})}return h}function g(i){if(i.className){if(typeof i.className=="string")i.className=i.className.split(/\s+/)}else i.className=[];for(var h=Da.sourceNormalizers,n=0;n<h.length;n++)h[n](i)}this.fetchResources=e;var l=[],j;b(a.resources)}function ob(a,b,e){a.setFullYear(a.getFullYear()+b);e||Ia(a);return a}function Xa(a,b,e){if(+a){b=a.getMonth()+b;var d=x(a);d.setDate(1);
d.setMonth(b);a.setMonth(b);for(e||Ia(a);a.getMonth()!=d.getMonth();)a.setDate(a.getDate()+(a<d?1:-1))}return a}function fc(a,b,e){Z(a,b*7,e);return a}function Z(a,b,e){if(+a){b=a.getDate()+b;var d=x(a);d.setHours(9);d.setDate(b);a.setDate(b);e||Ia(a);sb(a,d)}return a}function sb(a,b){if(+a)for(;a.getDate()!=b.getDate();)a.setTime(+a+(a<b?1:-1)*gc)}function wa(a,b){a.setMinutes(a.getMinutes()+b);return a}function Ia(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a}function x(a,
b){if(b)return Ia(new Date(+a));return new Date(+a)}function Ib(){var a=0,b;do b=new Date(1970,a++,1);while(b.getHours());return b}function Aa(a,b,e){for(b=b||1;!a.getDay()||e&&a.getDay()==1||!e&&a.getDay()==6;)Z(a,b);return a}function Ca(a,b){return Math.round((x(a,true)-x(b,true))/tb)}function Hb(a,b,e,d){if(b!==ta&&b!=a.getFullYear()){a.setDate(1);a.setMonth(0);a.setFullYear(b)}if(e!==ta&&e!=a.getMonth()){a.setDate(1);a.setMonth(e)}d!==ta&&a.setDate(d)}function Jb(a){var b=a.getFullYear(),e=8-
(new Date(a.getFullYear(),0,1)).getDay();if(e==8)e=1;a=(Date.UTC(b,a.getMonth(),a.getDate(),0,0,0)-Date.UTC(b,0,1,0,0,0))/1E3/60/60/24+1;e=Math.floor((a-e+7)/7);if(e==0){b--;b=8-(new Date(b,0,1)).getDay();e=b==2||b==8?53:52}return e}function rb(a,b){if(typeof a=="object")return a;if(typeof a=="number")return new Date(a*1E3);if(typeof a=="string"){if(a.match(/^\d+(\.\d+)?$/))return new Date(parseFloat(a)*1E3);if(b===ta)b=true;return Kb(a,b)||(a?new Date(a):null)}return null}function Kb(a,b){a=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);
if(!a)return null;var e=new Date(a[1],0,1);if(b||!a[13]){b=new Date(a[1],0,1,9,0);if(a[3]){e.setMonth(a[3]-1);b.setMonth(a[3]-1)}if(a[5]){e.setDate(a[5]);b.setDate(a[5])}sb(e,b);a[7]&&e.setHours(a[7]);a[8]&&e.setMinutes(a[8]);a[10]&&e.setSeconds(a[10]);a[12]&&e.setMilliseconds(Number("0."+a[12])*1E3);sb(e,b)}else{e.setUTCFullYear(a[1],a[3]?a[3]-1:0,a[5]||1);e.setUTCHours(a[7]||0,a[8]||0,a[10]||0,a[12]?Number("0."+a[12])*1E3:0);if(a[14]){b=Number(a[16])*60+(a[18]?Number(a[18]):0);b*=a[15]=="-"?1:-1;
e=new Date(+e+b*60*1E3)}}return e}function Ra(a){if(typeof a=="number")return a*60;if(typeof a=="object")return a.getHours()*60+a.getMinutes();if(a=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var b=parseInt(a[1],10);if(a[3]){b%=12;if(a[3].toLowerCase().charAt(0)=="p")b+=12}return b*60+(a[2]?parseInt(a[2],10):0)}}function Qa(a,b,e){return pb(a,null,b,e)}function pb(a,b,e,d){d=d||cb;var g=a,l=b,j,i=e.length,h,n,O,S="";for(j=0;j<i;j++){h=e.charAt(j);if(h=="'")for(n=j+1;n<i;n++){if(e.charAt(n)=="'"){if(g){S+=
n==j+1?"'":e.substring(j+1,n);j=n}break}}else if(h=="(")for(n=j+1;n<i;n++){if(e.charAt(n)==")"){j=Qa(g,e.substring(j+1,n),d);if(parseInt(j.replace(/\D/,""),10))S+=j;j=n;break}}else if(h=="[")for(n=j+1;n<i;n++){if(e.charAt(n)=="]"){h=e.substring(j+1,n);j=Qa(g,h,d);if(j!=Qa(l,h,d))S+=j;j=n;break}}else if(h=="{"){g=b;l=a}else if(h=="}"){g=a;l=b}else{for(n=i;n>j;n--)if(O=hc[e.substring(j,n)]){if(g)S+=O(g,d);j=n-1;break}if(n==j)if(g)S+=h}}return S}function La(a){return a.end?ic(a.end,a.allDay):Z(x(a.start),
1)}function ic(a,b){a=x(a);return b||a.getHours()||a.getMinutes()?Z(a,1):Ia(a)}function jc(a,b){return(b.msLength-a.msLength)*100+(a.event.start-b.event.start)}function Lb(a,b){return a.end>b.start&&a.start<b.end}function eb(a,b,e,d){var g=[],l,j=a.length,i,h,n,O,S;for(l=0;l<j;l++){i=a[l];h=i.start;n=b[l];if(n>e&&h<d){if(h<e){h=x(e);O=false}else{h=h;O=true}if(n>d){n=x(d);S=false}else{n=n;S=true}g.push({event:i,start:h,end:n,isStart:O,isEnd:S,msLength:n-h})}}return g.sort(jc)}function fb(a){var b=
[],e,d=a.length,g,l,j,i;for(e=0;e<d;e++){g=a[e];for(l=0;;){j=false;if(b[l])for(i=0;i<b[l].length;i++)if(Lb(b[l][i],g)){j=true;break}if(j)l++;else break}if(b[l])b[l].push(g);else b[l]=[g]}return b}function Mb(a,b,e){a.unbind("mouseover").mouseover(function(d){for(var g=d.target,l;g!=this;){l=g;g=g.parentNode}if((g=l._fci)!==ta){l._fci=ta;l=b[g];e(l.event,l.element,l);p(d.target).trigger(d)}d.stopPropagation()})}function Sa(a,b,e){for(var d=0,g;d<a.length;d++){g=p(a[d]);g.width(Math.max(0,b-ub(g,e)))}}
function Nb(a,b,e){for(var d=0,g;d<a.length;d++){g=p(a[d]);g.height(Math.max(0,b-Pa(g,e)))}}function ub(a,b){return kc(a)+lc(a)+(b?mc(a):0)}function kc(a){return(parseFloat(p.curCSS(a[0],"paddingLeft",true))||0)+(parseFloat(p.curCSS(a[0],"paddingRight",true))||0)}function mc(a){return(parseFloat(p.curCSS(a[0],"marginLeft",true))||0)+(parseFloat(p.curCSS(a[0],"marginRight",true))||0)}function lc(a){return(parseFloat(p.curCSS(a[0],"borderLeftWidth",true))||0)+(parseFloat(p.curCSS(a[0],"borderRightWidth",
true))||0)}function Pa(a,b){return nc(a)+oc(a)+(b?Ob(a):0)}function nc(a){return(parseFloat(p.curCSS(a[0],"paddingTop",true))||0)+(parseFloat(p.curCSS(a[0],"paddingBottom",true))||0)}function Ob(a){return(parseFloat(p.curCSS(a[0],"marginTop",true))||0)+(parseFloat(p.curCSS(a[0],"marginBottom",true))||0)}function oc(a){return(parseFloat(p.curCSS(a[0],"borderTopWidth",true))||0)+(parseFloat(p.curCSS(a[0],"borderBottomWidth",true))||0)}function Wa(a,b){b=typeof b=="number"?b+"px":b;a.each(function(e,
d){d.style.cssText+=";min-height:"+b+";_height:"+b})}function Gb(){}function Pb(a,b){return a-b}function Qb(a){return Math.max.apply(Math,a)}function Ta(a){return(a<10?"0":"")+a}function qb(a,b){if(a[b]!==ta)return a[b];b=b.split(/(?=[A-Z])/);for(var e=b.length-1,d;e>=0;e--){d=a[b[e].toLowerCase()];if(d!==ta)return d}return a[""]}function Ua(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Rb(a){return a.id+
"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function Za(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}function gb(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function $a(a,b){a.each(function(e,d){d.className=d.className.replace(/^fc-\w*/,"fc-id"+b)})}function Sb(a,b){var e=a.source||{},d=a.color,
g=e.color,l=b("eventColor"),j=a.backgroundColor||d||e.backgroundColor||g||b("eventBackgroundColor")||l;d=a.borderColor||d||e.borderColor||g||b("eventBorderColor")||l;a=a.textColor||e.textColor||b("eventTextColor");b=[];j&&b.push("background-color:"+j);d&&b.push("border-color:"+d);a&&b.push("color:"+a);return b.join(";")}function db(a,b,e){if(p.isFunction(a))a=[a];if(a){var d,g;for(d=0;d<a.length;d++)g=a[d].apply(b,e)||g;return g}}function Ya(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==
ta)return arguments[a]}function pc(a,b){function e(i,h){if(h){Xa(i,h);i.setDate(1)}i=x(i,true);i.setDate(1);h=Xa(x(i),1);var n=x(i),O=x(h),S=g("firstDay"),u=g("weekends")?0:1;if(u){Aa(n);Aa(O,-1,true)}Z(n,-((n.getDay()-Math.max(S,u)+7)%7));Z(O,(7-O.getDay()+Math.max(S,u))%7);S=Math.round((O-n)/(tb*7));if(g("weekMode")=="fixed"){Z(O,(6-S)*7);S=6}d.title=j(i,g("titleFormat"));d.start=i;d.end=h;d.visStart=n;d.visEnd=O;l(6,S,u?5:7,true)}var d=this;d.render=e;vb.call(d,a,b,"month");var g=d.opt,l=d.renderBasic,
j=b.formatDate}function qc(a,b){function e(i,h){h&&Z(i,h*7);i=Z(x(i),-((i.getDay()-g("firstDay")+7)%7));h=Z(x(i),7);var n=x(i),O=x(h),S=g("weekends");if(!S){Aa(n);Aa(O,-1,true)}d.title=j(n,Z(x(O),-1),g("titleFormat"));d.start=i;d.end=h;d.visStart=n;d.visEnd=O;l(1,1,S?7:5,false)}var d=this;d.render=e;vb.call(d,a,b,"basicWeek");var g=d.opt,l=d.renderBasic,j=b.formatDates}function rc(a,b){function e(i,h){if(h){Z(i,h);g("weekends")||Aa(i,h<0?-1:1)}d.title=j(i,g("titleFormat"));d.start=d.visStart=x(i,
true);d.end=d.visEnd=Z(x(d.start),1);l(1,1,1,false)}var d=this;d.render=e;vb.call(d,a,b,"basicDay");var g=d.opt,l=d.renderBasic,j=b.formatDate}function vb(a,b,e){function d(E,f,r,o){G=f;M=r;g();(f=!ma)?l(E,o):C();j(f)}function g(){if(da=q("isRTL")){ea=-1;w=M-1}else{ea=1;w=0}R=q("firstDay");ka=q("weekends")?0:1;pa=q("theme")?"ui":"fc";$=q("columnFormat")}function l(E,f){var r,o=pa+"-widget-header",K=pa+"-widget-content",N;r="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";
for(N=0;N<M;N++)r+="<th class='fc- "+o+"'/>";r+="</tr></thead><tbody>";for(N=0;N<E;N++){r+="<tr class='fc-week"+N+"'>";for(o=0;o<M;o++)r+="<td class='fc- "+K+" fc-day"+(N*M+o)+"'><div>"+(f?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";r+="</tr>"}r+="</tbody></table>";E=p(r).appendTo(a);H=E.find("thead");Y=H.find("th");ma=E.find("tbody");z=ma.find("tr");I=ma.find("td");L=I.filter(":first-child");Q=z.eq(0).find("div.fc-day-content div");
gb(H.add(H.find("tr")));gb(z);z.eq(0).addClass("fc-first");n(I);F=p("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a)}function j(E){var f=E||G==1,r=A.start.getMonth(),o=Ia(new Date),K,N,ca;f&&Y.each(function(la,ya){K=p(ya);N=fa(la);K.html(aa(N,$));$a(K,N)});I.each(function(la,ya){K=p(ya);N=fa(la);N.getMonth()==r?K.removeClass("fc-other-month"):K.addClass("fc-other-month");+N==+o?K.addClass(pa+"-state-highlight fc-today"):K.removeClass(pa+"-state-highlight fc-today");K.find("div.fc-day-number").text(N.getDate());
f&&$a(K,N)});z.each(function(la,ya){ca=p(ya);if(la<G){ca.show();la==G-1?ca.addClass("fc-last"):ca.removeClass("fc-last")}else ca.hide()})}function i(E){k=E;E=k-H.height();var f,r,o;if(q("weekMode")=="variable")f=r=Math.floor(E/(G==1?2:6));else{f=Math.floor(E/G);r=E-f*(G-1)}L.each(function(K,N){if(K<G){o=p(N);Wa(o.find("> div"),(K==G-1?r:f)-Pa(o))}})}function h(E){s=E;J.clear();m=Math.floor(s/M);Sa(Y.slice(0,-1),m)}function n(E){E.click(O).mousedown(ha)}function O(E){if(!q("selectable")){var f=parseInt(this.className.match(/fc\-day(\d+)/)[1]);
f=fa(f);c("dayClick",this,f,true,E)}}function S(E,f,r){r&&v.build();r=x(A.visStart);for(var o=Z(x(r),M),K=0;K<G;K++){var N=new Date(Math.max(r,E)),ca=new Date(Math.min(o,f));if(N<ca){var la;if(da){la=Ca(ca,r)*ea+w+1;N=Ca(N,r)*ea+w+1}else{la=Ca(N,r);N=Ca(ca,r)}n(u(K,la,K,N-1))}Z(r,7);Z(o,7)}}function u(E,f,r,o){E=v.rect(E,f,r,o,a);return D(E,a)}function B(E){return x(E)}function ia(E,f){S(E,Z(x(f),1),true)}function na(){T()}function ra(E,f,r){var o=ua(E);c("dayClick",I[o.row*M+o.col],E,f,r)}function xa(E,
f){y.start(function(r){T();r&&u(r.row,r.col,r.row,r.col)},f)}function va(E,f,r){var o=y.stop();T();if(o){o=sa(o);c("drop",E,o,true,f,r)}}function ga(E){return x(E.start)}function ba(E){return J.left(E)}function ja(E){return J.right(E)}function ua(E){return{row:Math.floor(Ca(E,A.visStart)/7),col:oa(E.getDay())}}function sa(E){return W(E.row,E.col)}function W(E,f){return Z(x(A.visStart),E*7+f*ea+w)}function fa(E){return W(Math.floor(E/M),E%M)}function oa(E){return(E-Math.max(R,ka)+M)%M*ea+w}function qa(E){return z.eq(E)}
function V(){return{left:0,right:s}}var A=this;A.renderBasic=d;A.setHeight=i;A.setWidth=h;A.renderDayOverlay=S;A.defaultSelectionEnd=B;A.renderSelection=ia;A.clearSelection=na;A.reportDayClick=ra;A.dragStart=xa;A.dragStop=va;A.defaultEventEnd=ga;A.getHoverListener=function(){return y};A.colContentLeft=ba;A.colContentRight=ja;A.dayOfWeekCol=oa;A.dateCell=ua;A.cellDate=sa;A.cellIsAllDay=function(){return true};A.allDayRow=qa;A.allDayBounds=V;A.getRowCnt=function(){return G};A.getColCnt=function(){return M};
A.getColWidth=function(){return m};A.getViewName=function(){return e};A.getDaySegmentContainer=function(){return F};wb.call(A,a,b,e);xb.call(A);yb.call(A);sc.call(A);var q=A.opt,c=A.trigger,C=A.clearEvents,D=A.renderOverlay,T=A.clearOverlays,ha=A.daySelectionMousedown,aa=b.formatDate,H,Y,ma,z,I,L,Q,F,s,k,m,G,M,v,y,J,da,ea,w,R,ka,pa,$;Za(a.addClass("fc-grid"));v=new zb(function(E,f){var r,o,K;Y.each(function(N,ca){r=p(ca);o=r.offset().left;if(N)K[1]=o;K=[o];f[N]=K});K[1]=o+r.outerWidth();z.each(function(N,
ca){if(N<G){r=p(ca);o=r.offset().top;if(N)K[1]=o;K=[o];E[N]=K}});K[1]=o+r.outerHeight()});y=new Ab(v);J=new Bb(function(E){return Q.eq(E)})}function sc(){function a(W,fa){O(W);ua(e(W),fa)}function b(){S();ra().empty()}function e(W){var fa=ba(),oa=ja(),qa=x(l.visStart);oa=Z(x(qa),oa);var V=p.map(W,La),A,q,c,C,D,T,ha=[];for(A=0;A<fa;A++){q=fb(eb(W,V,qa,oa));for(c=0;c<q.length;c++){C=q[c];for(D=0;D<C.length;D++){T=C[D];T.row=A;T.level=c;ha.push(T)}}Z(qa,7);Z(oa,7)}return ha}function d(W,fa,oa){h(W)&&
g(W,fa);oa.isEnd&&n(W)&&sa(W,fa,oa);u(W,fa)}function g(W,fa){var oa=xa(),qa;fa.draggable({zIndex:9,delay:50,opacity:j("dragOpacity"),revertDuration:j("dragRevertDuration"),start:function(V,A){i("eventDragStart",fa,W,V,A);ia(W,fa);oa.start(function(q,c,C,D){fa.draggable("option","revert",!q||!C&&!D);ga();if(q){qa=C*7+D*(j("isRTL")?-1:1);va(Z(x(W.start),qa),Z(La(W),qa))}else qa=0},V,"drag")},stop:function(V,A){oa.stop();ga();i("eventDragStop",fa,W,V,A);if(qa)na(this,W,qa,0,W.allDay,V,A);else{fa.css("filter",
"");B(W,fa)}}})}var l=this;l.renderEvents=a;l.compileDaySegs=e;l.clearEvents=b;l.bindDaySeg=d;Cb.call(l);var j=l.opt,i=l.trigger,h=l.isEventDraggable,n=l.isEventResizable,O=l.reportEvents,S=l.reportEventClear,u=l.eventElementHandlers,B=l.showEvents,ia=l.hideEvents,na=l.eventDrop,ra=l.getDaySegmentContainer,xa=l.getHoverListener,va=l.renderDayOverlay,ga=l.clearOverlays,ba=l.getRowCnt,ja=l.getColCnt,ua=l.renderDaySegs,sa=l.resizableDayEvent}function tc(a,b){function e(h,n){n&&Z(h,n*1);h=wa(x(h,true),
Ra(g("minTime")));n=wa(x(h),Ra(g("maxTime"))-Ra(g("minTime")));var O=x(h),S=x(n);if(!g("weekends")){Aa(O);Aa(S,-1,true)}d.title=j(O,Z(x(S),-1),g("titleFormat"));d.start=h;d.end=n;d.visStart=O;d.visEnd=S;h=Math.round((S-O)/1E3/60/g("slotMinutes"));l(i.length,i.length,h,false)}var d=this;d.render=e;hb.call(d,a,b,"resourceDay");var g=d.opt,l=d.renderBasic,j=b.formatDates,i=d.getResources}function uc(a,b){function e(h,n){n&&Z(h,n*7);h=Z(x(h),-((h.getDay()-g("firstDay")+7)%7));n=Z(x(h),7);var O=x(h),S=
x(n),u=g("weekends");if(!u){Aa(O);Aa(S,-1,true)}d.title=j(O,Z(x(S),-1),g("titleFormat"));d.start=h;d.end=n;d.visStart=O;d.visEnd=S;l(i.length,i.length,u?7:5,false)}var d=this;d.render=e;hb.call(d,a,b,"resourceWeek");var g=d.opt,l=d.renderBasic,j=b.formatDates,i=d.getResources}function vc(a,b){function e(h,n){n&&Z(h,n*g("numberOfWeeks")*7);h=Z(x(h),-((h.getDay()-g("firstDay")+7)%7));n=fc(x(h),g("numberOfWeeks"));var O=x(h),S=x(n),u=g("weekends");if(!u){Aa(O);Aa(S,-1,true)}d.title=j(O,Z(x(S),-1),g("titleFormat"));
d.start=h;d.end=n;d.visStart=O;d.visEnd=S;l(i.length,i.length,u?g("numberOfWeeks")*7:g("numberOfWeeks")*5,false)}var d=this;d.render=e;hb.call(d,a,b,"resourceNextWeeks");var g=d.opt,l=d.renderBasic,j=b.formatDates,i=d.getResources}function wc(a,b){function e(h,n){if(n){Xa(h,n*1);h.setDate(1)}h=x(h,true);h.setDate(1);n=Xa(x(h),1);var O=x(h),S=x(n);if(!g("weekends")){Aa(O);Aa(S,-1,true)}d.title=j(O,Z(x(S),-1),g("titleFormat"));d.start=h;d.end=n;d.visStart=O;d.visEnd=S;h=Math.round((S-O)/tb);l(i.length,
i.length,h,false)}var d=this;d.render=e;hb.call(d,a,b,"resourceMonth");var g=d.opt,l=d.renderBasic,j=b.formatDates,i=d.getResources}function hb(a,b,e){function d(f,r,o,K){M=r;v=o;g();(r=!z)||e=="resourceMonth"?l(f,K):D();j(r)}function g(){if(ea=c("isRTL")){w=-1;R=v-1}else{w=1;R=0}ka=c("firstDay");pa=c("weekends")?0:1;$=c("theme")?"ui":"fc";E=c("columnFormat")}function l(f,r){var o,K=$+"-widget-header",N=$+"-widget-content",ca,la,ya=q.getResources;o="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr class='fc-first fc-last'><th class='fc-resourceName'>&nbsp;</th>";
for(ca=0;ca<v;ca++)o+="<th class='fc- "+K+"'/>";o+="</tr></thead><tbody>";for(ca=0;ca<f;ca++){K=ya[ca].id;la=ya[ca].name;o+="<tr class='fc-week"+K+"'><td class='fc-resourceName'>"+la+"</td>";for(la=0;la<v;la++)o+="<td class='fc- "+N+" fc-day"+la+" fc-resource"+K+"'><div>"+(r?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";o+="</tr>"}o+="</tbody></table>";f=a.html(p(o));Y=f.find("thead");ma=Y.find("th:not(th.fc-resourceName)");
z=f.find("tbody");I=z.find("tr");L=z.find("td:not(td.fc-resourceName)");Q=I.children().filter(":first-child");F=I.eq(0).find("div.fc-day-content div");ma.removeClass("fc-first fc-last").filter(":first").addClass("fc-first").end().filter(":last").addClass("fc-last");L.removeClass("fc-first fc-last");I.each(function(){p(this).children("td:not(td.fc-resourceName):first").addClass("fc-first");p(this).children("td:not(td.fc-resourceName):last").addClass("fc-last")});I.eq(0).addClass("fc-first");n(L);s=
p("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a)}function j(){q.start.getMonth();var f=Ia(new Date),r,o,K;ma.each(function(N,ca){r=p(ca);o=fa(N);r.html(H(o,E));if(o.getDay()==0||o.getDay()==6)r.addClass("fc-weekend");o.getDay()==1&&e=="resourceNextWeeks"&&r.html(r.html()+"<br>"+c("weekPrefix")+" "+Jb(o));$a(r,N)});L.each(function(N,ca){r=p(ca);o=fa(N);+o==+f?r.addClass($+"-state-highlight fc-today"):r.removeClass($+"-state-highlight fc-today");r.find("div.fc-day-number").text(o.getDate());
$a(r,N)});I.each(function(N,ca){K=p(ca);if(N<M){K.show();N==M-1?K.addClass("fc-last"):K.removeClass("fc-last")}else K.hide()})}function i(f){m=f;f=m-Y.height();var r,o,K;if(c("weekMode")=="variable")r=o=Math.floor(f/(M==1?2:6));else{r=Math.floor(f/M);o=f-r*(M-1)}Q.each(function(N,ca){if(N<M){K=p(ca);Wa(K.find("> div"),(N==M-1?o:r)-Pa(K))}})}function h(f){k=f;k-=p("th.fc-resourceName").css("width").replace("px","");da.clear();G=Math.floor(k/v);Sa(ma.slice(0,-1),G)}function n(f){f.click(O).mousedown(aa)}
function O(f){if(!c("selectable")){var r=parseInt(this.className.match(/fc\-day(\d+)/)[1]);r=fa(r);C("dayClick",this,r,true,f)}}function S(f,r,o,K){o&&y.build();o=x(q.visStart);var N=Z(x(o),v);if(e=="resourceDay")N=wa(x(o),c("slotMinutes")*v);f=new Date(Math.max(o,f));N=new Date(Math.min(N,r));if(f<N){if(e=="resourceDay"){r=(f-o)/1E3/60/c("slotMinutes");o=(N-o)/1E3/60/c("slotMinutes")}else if(ea){r=Ca(N,o)*w+R+1;o=Ca(f,o)*w+R+1}else{r=Ca(f,o);o=Ca(N,o)}n(u(K,r,K,o-1))}}function u(f,r,o,K){f=y.rect(f,
Math.round(r),o,Math.round(K),a);return T(f,a)}function B(f){return x(f)}function ia(f,r,o,K){e=="resourceDay"?S(f,wa(x(r),c("slotMinutes")),true,K):S(f,Z(x(r),1),true,K)}function na(){ha()}function ra(f,r,o){var K=ua(f);C("dayClick",L[K.row*v+K.col],f,r,o)}function xa(f,r){J.start(function(o){ha();o&&u(o.row,o.col,o.row,o.col)},r)}function va(f,r,o){var K=J.stop();ha();if(K){K=sa(K);C("drop",f,K,true,r,o)}}function ga(f){return x(f.start)}function ba(f){return da.left(f)}function ja(f){return da.right(f)}
function ua(f){var r,o,K,N,ca,la;if(e=="resourceDay")r=qa(f);else if(e=="resourceNextWeeks"){o=f.getFullYear();K=f.getMonth();f=f.getDate();for(var ya=0;ya<v;ya++){N=W(ya);ca=N.getFullYear();la=N.getMonth();N=N.getDate();if(o==ca&&K==la&&f==N){r=ya;break}}if(typeof r=="undefined")r=ya}else r=oa(f.getDay());return{col:r}}function sa(f){return W(f.col)}function W(f){return e=="resourceDay"?wa(x(q.visStart),f*c("slotMinutes")):Z(x(q.visStart),f*w+R)}function fa(f){return W(f%v)}function oa(f){return(f-
Math.max(ka,pa)+v)%v*w+R}function qa(f){var r=f.getHours();f=f.getMinutes();for(var o=c("slotMinutes"),K,N,ca,la,ya=0;ya<=60/o;ya++){K=ya*o;N=Math.abs(K-f);if(N<=ca||ya==0){ca=N;la=K}if(la==60){r++;la=0}}f=la;for(ya=0;ya<v;ya++)if(fa(ya).getHours()==r&&fa(ya).getMinutes()==f)return ya;return v}function V(f){return I.eq(f)}function A(){var f=parseInt(p(Y).find("th.fc-resourceName").css("width").replace("px",""));return{left:f,right:k+f}}var q=this;q.renderBasic=d;q.setHeight=i;q.setWidth=h;q.renderDayOverlay=
S;q.defaultSelectionEnd=B;q.renderSelection=ia;q.clearSelection=na;q.reportDayClick=ra;q.dragStart=xa;q.dragStop=va;q.defaultEventEnd=ga;q.getHoverListener=function(){return J};q.colContentLeft=ba;q.colContentRight=ja;q.dayOfWeekCol=oa;q.timeOfDayCol=qa;q.dateCell=ua;q.cellDate=sa;q.cellIsAllDay=function(){return true};q.allDayRow=V;q.allDayBounds=A;q.getRowCnt=function(){return M};q.getColCnt=function(){return v};q.getResources=b.fetchResources();q.getColWidth=function(){return G};q.getViewName=
function(){return e};q.getDaySegmentContainer=function(){return s};wb.call(q,a,b,e);xb.call(q);yb.call(q);xc.call(q);var c=q.opt,C=q.trigger,D=q.clearEvents,T=q.renderOverlay,ha=q.clearOverlays,aa=q.daySelectionMousedown,H=b.formatDate,Y,ma,z,I,L,Q,F,s,k,m,G,M,v,y,J,da,ea,w,R,ka,pa,$,E;Za(a.addClass("fc-grid"));y=new zb(function(f,r){var o,K,N;ma.each(function(ca,la){o=p(la);K=o.offset().left;if(ca)N[1]=K;N=[K];r[ca]=N});N[1]=K+o.outerWidth();I.each(function(ca,la){if(ca<M){o=p(la);K=o.offset().top;
if(ca)N[1]=K;N=[K];f[ca]=N}});N[1]=K+o.outerHeight()});J=new Ab(y);da=new Bb(function(f){return F.eq(f)})}function xc(){function a(c,C){S(c);W(e(c),C)}function b(){u();xa().empty()}function e(c){var C=ja(),D=ua(),T=j.getResources,ha=x(j.visStart);D=Z(x(ha),D);var aa=p.map(c,La),H,Y,ma,z,I,L,Q,F,s=[];if(sa()=="resourceDay"){D=x(j.visEnd);aa=p.map(c,function(k){return k.end||Z(k.start,1)})}for(H=0;H<C;H++){Q=T[H].id;Y=fb(eb(c,aa,ha,D));for(ma=0;ma<Y.length;ma++){z=Y[ma];for(I=0;I<z.length;I++){L=z[I];
L.row=H;L.level=ma;if(!p.isArray(L.event.resource))L.event.resource=[L.event.resource];for(F=0;F<L.event.resource.length;F++)Q==L.event.resource[F]&&s.push(L)}}}return s}function d(c,C,D){n(c)&&g(c,C);D.isEnd&&O(c)&&l(c,C,D);B(c,C)}function g(c,C){var D=va(),T,ha,aa,H,Y,ma=sa();C.draggable({zIndex:9,delay:50,opacity:i("dragOpacity"),revertDuration:i("dragRevertDuration"),start:function(z,I){h("eventDragStart",C,c,z,I);na(c,C);D.start(function(L,Q,F,s){C.draggable("option","revert",!L||!F&&!s);ba();
if(L){aa=F*(i("isRTL")?-1:1);Y=j.getResources;H=Y[L.row].id;if(ma=="resourceDay"){ha=s*(i("isRTL")?-1:1)*i("slotMinutes");ga(wa(x(c.start),ha),wa(x(c.end),ha),false,L.row)}else{T=s*(i("isRTL")?-1:1);ga(Z(x(c.start),T),Z(La(c),T),false,L.row)}}else aa=T=ha=0},z,"drag")},stop:function(z,I){D.stop();ba();h("eventDragStop",C,c,z,I);if(ma=="resourceDay"&&(ha||aa))ra(this,c,0,ha,c.allDay,z,I,H);else if(T||aa)ra(this,c,T,0,c.allDay,z,I,H);else{C.css("filter","");ia(c,C)}}})}function l(c,C,D){var T=i("isRTL"),
ha=T?"w":"e",aa=C.find("div.ui-resizable-"+ha),H=false;Za(C);C.mousedown(function(Y){Y.preventDefault()}).click(function(Y){if(H){Y.preventDefault();Y.stopImmediatePropagation()}});aa.mousedown(function(Y){function ma(y){h("eventResizeStop",this,c,y);p("body").css("cursor","");z.stop();ba();if(k)q(this,c,k,0,y);else m&&q(this,c,0,m,y);setTimeout(function(){H=false},0)}if(Y.which==1){H=true;var z=j.getHoverListener();ja();var I=ua(),L=sa(),Q=T?-1:1,F=T?I-1:0,s=C.css("top"),k,m,G,M=p.extend({},c),v=
fa(c.start);oa();p("body").css("cursor",ha+"-resize").one("mouseup",ma);h("eventResizeStart",this,c,Y);z.start(function(y,J){if(y){Math.max(v.row,y.row);y=y.col;if(L=="resourceDay"){m=i("slotMinutes")*y*Q+F-(i("slotMinutes")*J.col*Q+F);y=wa(qa(c),m,true)}else{k=7+y*Q+F-(7+J.col*Q+F);y=Z(qa(c),k,true)}if(k||m){M.end=y;var da=G;G=V(A([M]),D.row,s);G.find("*").css("cursor",ha+"-resize");da&&da.remove();na(c)}else if(G){ia(c);G.remove();G=null}ba();L=="resourceDay"?ga(c.start,wa(x(y),0),1,J.row):ga(c.start,
Z(x(y),1),1,J.row)}},Y)}})}var j=this;j.renderEvents=a;j.compileDaySegs=e;j.clearEvents=b;j.bindDaySeg=d;j.resizableResourceEvent=l;Cb.call(j);var i=j.opt,h=j.trigger,n=j.isEventDraggable,O=j.isEventResizable,S=j.reportEvents,u=j.reportEventClear,B=j.eventElementHandlers,ia=j.showEvents,na=j.hideEvents,ra=j.eventDrop,xa=j.getDaySegmentContainer,va=j.getHoverListener,ga=j.renderDayOverlay,ba=j.clearOverlays,ja=j.getRowCnt,ua=j.getColCnt,sa=j.getViewName,W=j.renderDaySegs,fa=j.dateCell,oa=j.clearSelection,
qa=j.eventEnd,V=j.renderTempDaySegs,A=j.compileDaySegs,q=j.eventResize}function yc(a,b){function e(i,h){h&&Z(i,h*7);i=Z(x(i),-((i.getDay()-g("firstDay")+7)%7));h=Z(x(i),7);var n=x(i),O=x(h),S=g("weekends");if(!S){Aa(n);Aa(O,-1,true)}d.title=j(n,Z(x(O),-1),g("titleFormat"));d.start=i;d.end=h;d.visStart=n;d.visEnd=O;l(S?7:5)}var d=this;d.render=e;Tb.call(d,a,b,"agendaWeek");var g=d.opt,l=d.renderAgenda,j=b.formatDates}function zc(a,b){function e(i,h){if(h){Z(i,h);g("weekends")||Aa(i,h<0?-1:1)}h=x(i,
true);var n=Z(x(h),1);d.title=j(i,g("titleFormat"));d.start=d.visStart=h;d.end=d.visEnd=n;l(1)}var d=this;d.render=e;Tb.call(d,a,b,"agendaDay");var g=d.opt,l=d.renderAgenda,j=b.formatDate}function Tb(a,b,e){function d(t){Ea=t;g();G?z():l();j()}function g(){ab=Y("theme")?"ui":"fc";Ub=Y("weekends")?0:1;Vb=Y("firstDay");if(Wb=Y("isRTL")){Ja=-1;Ka=Ea-1}else{Ja=1;Ka=0}Ma=Ra(Y("minTime"));ib=Ra(Y("maxTime"));Xb=Y("columnFormat")}function l(){var t=ab+"-widget-header",X=ab+"-widget-content",P,U,za,Ba,Ga,
Ha=Y("slotMinutes")%15==0;P="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+t+"'>&nbsp;</th>";for(U=0;U<Ea;U++)P+="<th class='fc- fc-col"+U+" "+t+"'/>";P+="<th class='fc-agenda-gutter "+t+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+t+"'>&nbsp;</th>";for(U=0;U<Ea;U++)P+="<td class='fc- fc-col"+U+" "+X+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";P+=
"<td class='fc-agenda-gutter "+X+"'>&nbsp;</td></tr></tbody></table>";G=p(P).appendTo(a);M=G.find("thead");v=M.find("th").slice(1,-1);y=G.find("tbody");J=y.find("td").slice(0,-1);da=J.find("div.fc-day-content div");ea=J.eq(0);w=ea.find("> div");gb(M.add(M.find("tr")));gb(y.add(y.find("tr")));N=M.find("th:first");ca=G.find(".fc-agenda-gutter");R=p("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(a);if(Y("allDaySlot")){ka=p("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(R);
P="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+t+" fc-agenda-axis'>"+Y("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+t+" fc-agenda-gutter'>&nbsp;</th></tr></table>";pa=p(P).appendTo(R);$=pa.find("tr");u($.find("td"));N=N.add(pa.find("th:first"));ca=ca.add(pa.find("th.fc-agenda-gutter"));R.append("<div class='fc-agenda-divider "+t+"'><div class='fc-agenda-divider-inner'/></div>")}else ka=p([]);E=p("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(R);
f=p("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(E);r=p("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(f);P="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";za=Ib();Ba=wa(x(za),ib);wa(za,Ma);for(U=Db=0;za<Ba;U++){Ga=za.getMinutes();P+="<tr class='fc-slot"+U+" "+(!Ga?"":"fc-minor")+"'><th class='fc-agenda-axis "+t+"'>"+(!Ha||!Ga?m(za,Y("axisFormat")):"&nbsp;")+"</th><td class='"+X+"'><div style='position:relative'>&nbsp;</div></td></tr>";
wa(za,Y("slotMinutes"));Db++}P+="</tbody></table>";o=p(P).appendTo(f);K=o.find("div:first");B(o.find("td"));N=N.add(o.find("th:first"))}function j(){var t,X,P,U,za=Ia(new Date);for(t=0;t<Ea;t++){U=ua(t);X=v.eq(t);X.html(m(U,Xb));P=J.eq(t);+U==+za?P.addClass(ab+"-state-highlight fc-today"):P.removeClass(ab+"-state-highlight fc-today");$a(X.add(P),U)}}function i(t,X){if(t===ta)t=Yb;Yb=t;Eb={};var P=y.position().top,U=E.position().top;t=Math.min(t-P,o.height()+U+1);w.height(t-Pa(ea));R.css("top",P);
E.height(t-U-1);bb=K.height()+1;X&&n()}function h(t){ya=t;jb.clear();Na=0;Sa(N.width("").each(function(X,P){Na=Math.max(Na,p(P).outerWidth())}),Na);t=E[0].clientWidth;if(Fb=E.width()-t){Sa(ca,Fb);ca.show().prev().removeClass("fc-last")}else ca.hide().prev().addClass("fc-last");kb=Math.floor((t-Na)/Ea);Sa(v.slice(0,-1),kb)}function n(){function t(){E.scrollTop(U)}var X=Ib(),P=x(X);P.setHours(Y("firstHour"));var U=fa(X,P)+1;t();setTimeout(t,0)}function O(){Zb=E.scrollTop()}function S(){E.scrollTop(Zb)}
function u(t){t.click(ia).mousedown(s)}function B(t){t.click(ia).mousedown(D)}function ia(t){if(!Y("selectable")){var X=Math.min(Ea-1,Math.floor((t.pageX-G.offset().left-Na)/kb)),P=ua(X),U=this.parentNode.className.match(/fc-slot(\d+)/);if(U){U=parseInt(U[1])*Y("slotMinutes");var za=Math.floor(U/60);P.setHours(za);P.setMinutes(U%60+Ma);ma("dayClick",J[X],P,false,t)}else ma("dayClick",J[X],P,true,t)}}function na(t,X,P){P&&Oa.build();var U=x(H.visStart);if(Wb){P=Ca(X,U)*Ja+Ka+1;t=Ca(t,U)*Ja+Ka+1}else{P=
Ca(t,U);t=Ca(X,U)}P=Math.max(0,P);t=Math.min(Ea,t);P<t&&u(ra(0,P,0,t-1))}function ra(t,X,P,U){t=Oa.rect(t,X,P,U,R);return I(t,R)}function xa(t,X){for(var P=x(H.visStart),U=Z(x(P),1),za=0;za<Ea;za++){var Ba=new Date(Math.max(P,t)),Ga=new Date(Math.min(U,X));if(Ba<Ga){var Ha=za*Ja+Ka;Ha=Oa.rect(0,Ha,0,Ha,f);Ba=fa(P,Ba);Ga=fa(P,Ga);Ha.top=Ba;Ha.height=Ga-Ba;B(I(Ha,f))}Z(P,1);Z(U,1)}}function va(t){return jb.left(t)}function ga(t){return jb.right(t)}function ba(t){return{row:Math.floor(Ca(t,H.visStart)/
7),col:W(t.getDay())}}function ja(t){var X=ua(t.col);t=t.row;Y("allDaySlot")&&t--;t>=0&&wa(X,Ma+t*Y("slotMinutes"));return X}function ua(t){return Z(x(H.visStart),t*Ja+Ka)}function sa(t){return Y("allDaySlot")&&!t.row}function W(t){return(t-Math.max(Vb,Ub)+Ea)%Ea*Ja+Ka}function fa(t,X){t=x(t,true);if(X<wa(x(t),Ma))return 0;if(X>=wa(x(t),ib))return o.height();t=Y("slotMinutes");X=X.getHours()*60+X.getMinutes()-Ma;var P=Math.floor(X/t),U=Eb[P];if(U===ta)U=Eb[P]=o.find("tr:eq("+P+") td div")[0].offsetTop;
return Math.max(0,Math.round(U-1+bb*(X%t/t)))}function oa(){return{left:Na,right:ya-Fb}}function qa(){return $}function V(t){var X=x(t.start);if(t.allDay)return X;return wa(X,Y("defaultEventMinutes"))}function A(t,X){if(X)return x(t);return wa(x(t),Y("slotMinutes"))}function q(t,X,P){if(P)Y("allDaySlot")&&na(t,Z(x(X),1),true);else c(t,X)}function c(t,X){var P=Y("selectHelper");Oa.build();if(P){var U=Ca(t,H.visStart)*Ja+Ka;if(U>=0&&U<Ea){U=Oa.rect(0,U,0,U,f);var za=fa(t,t),Ba=fa(t,X);if(Ba>za){U.top=
za;U.height=Ba-za;U.left+=2;U.width-=5;if(p.isFunction(P)){if(t=P(t,X)){U.position="absolute";U.zIndex=8;la=p(t).css(U).appendTo(f)}}else{U.isStart=true;U.isEnd=true;la=p(k({title:"",start:t,end:X,className:["fc-select-helper"],editable:false},U));la.css("opacity",Y("dragOpacity"))}if(la){B(la);f.append(la);Sa(la,U.width,true);Nb(la,U.height,true)}}}}else xa(t,X)}function C(){L();if(la){la.remove();la=null}}function D(t){if(t.which==1&&Y("selectable")){F(t);var X;Va.start(function(P,U){C();if(P&&
P.col==U.col&&!sa(P)){U=ja(U);P=ja(P);X=[U,wa(x(U),Y("slotMinutes")),P,wa(x(P),Y("slotMinutes"))].sort(Pb);c(X[0],X[3])}else X=null},t);p(document).one("mouseup",function(P){Va.stop();if(X){+X[0]==+X[1]&&T(X[0],false,P);Q(X[0],X[3],false,P)}})}}function T(t,X,P){ma("dayClick",J[W(t.getDay())],t,X,P)}function ha(t,X){Va.start(function(P){L();if(P)if(sa(P))ra(P.row,P.col,P.row,P.col);else{P=ja(P);var U=wa(x(P),Y("defaultEventMinutes"));xa(P,U)}},X)}function aa(t,X,P){var U=Va.stop();L();U&&ma("drop",
t,ja(U),sa(U),X,P)}var H=this;H.renderAgenda=d;H.setWidth=h;H.setHeight=i;H.beforeHide=O;H.afterShow=S;H.defaultEventEnd=V;H.timePosition=fa;H.dayOfWeekCol=W;H.dateCell=ba;H.cellDate=ja;H.cellIsAllDay=sa;H.allDayRow=qa;H.allDayBounds=oa;H.getHoverListener=function(){return Va};H.colContentLeft=va;H.colContentRight=ga;H.getDaySegmentContainer=function(){return ka};H.getSlotSegmentContainer=function(){return r};H.getMinMinute=function(){return Ma};H.getMaxMinute=function(){return ib};H.getBodyContent=
function(){return f};H.getRowCnt=function(){return 1};H.getColCnt=function(){return Ea};H.getColWidth=function(){return kb};H.getSlotHeight=function(){return bb};H.getViewName=function(){return e};H.defaultSelectionEnd=A;H.renderDayOverlay=na;H.renderSelection=q;H.clearSelection=C;H.reportDayClick=T;H.dragStart=ha;H.dragStop=aa;wb.call(H,a,b,e);xb.call(H);yb.call(H);Ac.call(H);var Y=H.opt,ma=H.trigger,z=H.clearEvents,I=H.renderOverlay,L=H.clearOverlays,Q=H.reportSelection,F=H.unselect,s=H.daySelectionMousedown,
k=H.slotSegHtml,m=b.formatDate,G,M,v,y,J,da,ea,w,R,ka,pa,$,E,f,r,o,K,N,ca,la,ya,Yb,Na,kb,Fb,bb,Zb,Ea,Db,Oa,Va,jb,Eb={},ab,Vb,Ub,Wb,Ja,Ka,Ma,ib,Xb;Za(a.addClass("fc-agenda"));Oa=new zb(function(t,X){function P(lb){return Math.max(Ha,Math.min(Bc,lb))}var U,za,Ba;v.each(function(lb,Cc){U=p(Cc);za=U.offset().left;if(lb)Ba[1]=za;Ba=[za];X[lb]=Ba});Ba[1]=za+U.outerWidth();if(Y("allDaySlot")){U=$;za=U.offset().top;t[0]=[za,za+U.outerHeight()]}for(var Ga=f.offset().top,Ha=E.offset().top,Bc=Ha+E.outerHeight(),
mb=0;mb<Db;mb++)t.push([P(Ga+bb*mb),P(Ga+bb*(mb+1))])});Va=new Ab(Oa);jb=new Bb(function(t){return da.eq(t)})}function Ac(){function a(k,m){va(k);var G,M=k.length,v=[],y=[];for(G=0;G<M;G++)k[G].allDay?v.push(k[G]):y.push(k[G]);if(B("allDaySlot")){q(e(v),m);ja()}l(d(y),m)}function b(){ga();ua().empty();sa().empty()}function e(k){k=fb(eb(k,p.map(k,La),u.visStart,u.visEnd));var m,G=k.length,M,v,y,J=[];for(m=0;m<G;m++){M=k[m];for(v=0;v<M.length;v++){y=M[v];y.row=0;y.level=m;J.push(y)}}return J}function d(k){var m=
C(),G=oa(),M=fa(),v=wa(x(u.visStart),G),y=p.map(k,g),J,da,ea,w,R,ka,pa=[];for(J=0;J<m;J++){da=fb(eb(k,y,v,wa(x(v),M-G)));Dc(da);for(ea=0;ea<da.length;ea++){w=da[ea];for(R=0;R<w.length;R++){ka=w[R];ka.col=J;ka.level=ea;pa.push(ka)}}Z(v,1,true)}return pa}function g(k){return k.end?x(k.end):wa(x(k.start),B("defaultEventMinutes"))}function l(k,m){var G,M=k.length,v,y,J,da,ea,w,R,ka,pa,$="",E,f,r={},o={},K=sa(),N;G=C();if(E=B("isRTL")){f=-1;N=G-1}else{f=1;N=0}for(G=0;G<M;G++){v=k[G];y=v.event;J=qa(v.start,
v.start);da=qa(v.start,v.end);ea=v.col;w=v.level;R=v.forward||0;ka=V(ea*f+N);pa=A(ea*f+N)-ka;pa=Math.min(pa-6,pa*0.95);ea=w?pa/(w+R+1):R?(pa/(R+1)-6)*2:pa;w=ka+pa/(w+R+1)*w*f+(E?pa-ea:0);v.top=J;v.left=w;v.outerWidth=ea;v.outerHeight=da-J;$+=j(y,v)}K[0].innerHTML=$;E=K.children();for(G=0;G<M;G++){v=k[G];y=v.event;$=p(E[G]);f=ia("eventRender",y,y,$);if(f===false)$.remove();else{if(f&&f!==true){$.remove();$=p(f).css({position:"absolute",top:v.top,left:v.left}).appendTo(K)}v.element=$;if(y._id===m)h(y,
$,v);else $[0]._fci=G;aa(y,$)}}Mb(K,k,h);for(G=0;G<M;G++){v=k[G];if($=v.element){y=r[m=v.key=Rb($[0])];v.vsides=y===ta?(r[m]=Pa($,true)):y;y=o[m];v.hsides=y===ta?(o[m]=ub($,true)):y;m=$.find("div.fc-event-content");if(m.length)v.contentTop=m[0].offsetTop}}for(G=0;G<M;G++){v=k[G];if($=v.element){$[0].style.width=Math.max(0,v.outerWidth-v.hsides)+"px";r=Math.max(0,v.outerHeight-v.vsides);$[0].style.height=r+"px";y=v.event;if(v.contentTop!==ta&&r-v.contentTop<10){$.find("div.fc-event-time").text(F(y.start,
B("timeFormat"))+" - "+y.title);$.find("div.fc-event-title").remove()}ia("eventAfterRender",y,y,$)}}}function j(k,m){var G="<",M=k.url,v=Sb(k,B),y=v?" style='"+v+"'":"",J=["fc-event","fc-event-skin","fc-event-vert"];na(k)&&J.push("fc-event-draggable");m.isStart&&J.push("fc-corner-top");m.isEnd&&J.push("fc-corner-bottom");J=J.concat(k.className);if(k.source)J=J.concat(k.source.className||[]);G+=M?"a href='"+Ua(k.url)+"'":"div";G+=" class='"+J.join(" ")+"' style='position:absolute;z-index:8;top:"+m.top+
"px;left:"+m.left+"px;"+v+"'><div class='fc-event-inner fc-event-skin'"+y+"><div class='fc-event-head fc-event-skin'"+y+"><div class='fc-event-time'>"+Ua(s(k.start,k.end,B("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+Ua(k.title)+"</div></div><div class='fc-event-bg'></div></div>";if(m.isEnd&&ra(k))G+="<div class='ui-resizable-handle ui-resizable-s'>=</div>";G+="</"+(M?"a":"div")+">";return G}function i(k,m,G){na(k)&&n(k,m,G.isStart);G.isEnd&&ra(k)&&c(k,
m,G);ba(k,m)}function h(k,m,G){var M=m.find("div.fc-event-time");na(k)&&O(k,m,M);G.isEnd&&ra(k)&&S(k,m,M);ba(k,m)}function n(k,m,G){function M(){if(!J){m.width(v).height("").draggable("option","grid",null);J=true}}var v,y,J=true,da,ea=B("isRTL")?-1:1,w=W(),R=D(),ka=T(),pa=oa();m.draggable({zIndex:9,opacity:B("dragOpacity","month"),revertDuration:B("dragRevertDuration"),start:function($,E){ia("eventDragStart",m,k,$,E);Y(k,m);v=m.width();w.start(function(f,r,o,K){L();if(f){y=false;da=K*ea;if(f.row)if(G){if(J){m.width(R-
10);Nb(m,ka*Math.round((k.end?(k.end-k.start)/Ec:B("defaultEventMinutes"))/B("slotMinutes")));m.draggable("option","grid",[R,1]);J=false}}else y=true;else{I(Z(x(k.start),da),Z(La(k),da));M()}y=y||J&&!da}else{M();y=true}m.draggable("option","revert",y)},$,"drag")},stop:function($,E){w.stop();L();ia("eventDragStop",m,k,$,E);if(y){M();m.css("filter","");H(k,m)}else{var f=0;J||(f=Math.round((m.offset().top-ha().offset().top)/ka)*B("slotMinutes")+pa-(k.start.getHours()*60+k.start.getMinutes()));ma(this,
k,da,f,J,$,E)}}})}function O(k,m,G){function M(f){var r=wa(x(k.start),f),o;if(k.end)o=wa(x(k.end),f);G.text(s(r,o,B("timeFormat")))}function v(){if(J){G.css("display","");m.draggable("option","grid",[$,E]);J=false}}var y,J=false,da,ea,w,R=B("isRTL")?-1:1,ka=W(),pa=C(),$=D(),E=T();m.draggable({zIndex:9,scroll:false,grid:[$,E],axis:pa==1?"y":false,opacity:B("dragOpacity"),revertDuration:B("dragRevertDuration"),start:function(f,r){ia("eventDragStart",m,k,f,r);Y(k,m);y=m.position();ea=w=0;ka.start(function(o,
K,N,ca){m.draggable("option","revert",!o);L();if(o){da=ca*R;if(B("allDaySlot")&&!o.row){if(!J){J=true;G.hide();m.draggable("option","grid",null)}I(Z(x(k.start),da),Z(La(k),da))}else v()}},f,"drag")},drag:function(f,r){ea=Math.round((r.position.top-y.top)/E)*B("slotMinutes");if(ea!=w){J||M(ea);w=ea}},stop:function(f,r){var o=ka.stop();L();ia("eventDragStop",m,k,f,r);if(o&&(da||ea||J))ma(this,k,da,J?0:ea,J,f,r);else{v();m.css("filter","");m.css(y);M(0);H(k,m)}}})}function S(k,m,G){var M,v,y=T();m.resizable({handles:{s:"div.ui-resizable-s"},
grid:y,start:function(J,da){M=v=0;Y(k,m);m.css("z-index",9);ia("eventResizeStart",this,k,J,da)},resize:function(J,da){M=Math.round((Math.max(y,m.height())-da.originalSize.height)/y);if(M!=v){G.text(s(k.start,!M&&!k.end?null:wa(xa(k),B("slotMinutes")*M),B("timeFormat")));v=M}},stop:function(J,da){ia("eventResizeStop",this,k,J,da);if(M)z(this,k,0,B("slotMinutes")*M,J,da);else{m.css("z-index",8);H(k,m)}}})}var u=this;u.renderEvents=a;u.compileDaySegs=e;u.clearEvents=b;u.slotSegHtml=j;u.bindDaySeg=i;
Cb.call(u);var B=u.opt,ia=u.trigger,na=u.isEventDraggable,ra=u.isEventResizable,xa=u.eventEnd,va=u.reportEvents,ga=u.reportEventClear,ba=u.eventElementHandlers,ja=u.setHeight,ua=u.getDaySegmentContainer,sa=u.getSlotSegmentContainer,W=u.getHoverListener,fa=u.getMaxMinute,oa=u.getMinMinute,qa=u.timePosition,V=u.colContentLeft,A=u.colContentRight,q=u.renderDaySegs,c=u.resizableDayEvent,C=u.getColCnt,D=u.getColWidth,T=u.getSlotHeight,ha=u.getBodyContent,aa=u.reportEventElement,H=u.showEvents,Y=u.hideEvents,
ma=u.eventDrop,z=u.eventResize,I=u.renderDayOverlay,L=u.clearOverlays,Q=u.calendar,F=Q.formatDate,s=Q.formatDates}function Dc(a){var b,e,d,g,l,j;for(b=a.length-1;b>0;b--){g=a[b];for(e=0;e<g.length;e++){l=g[e];for(d=0;d<a[b-1].length;d++){j=a[b-1][d];if(Lb(l,j))j.forward=Math.max(j.forward||0,(l.forward||0)+1)}}}}function wb(a,b,e){function d(V,A){var q=qa[V];if(typeof q=="object")return V=="resources"?q:qb(q,A||e);return q}function g(V,A){return b.trigger.apply(b,[V,A||ba].concat(Array.prototype.slice.call(arguments,
2),[ba]))}function l(V){return i(V)&&!d("disableDragging")}function j(V){return i(V)&&!d("disableResizing")}function i(V){return Ya(V.editable,(V.source||{}).editable,d("editable"))}function h(V){W={};var A,q=V.length,c;for(A=0;A<q;A++){c=V[A];if(W[c._id])W[c._id].push(c);else W[c._id]=[c]}}function n(V){return V.end?x(V.end):ja(V)}function O(V,A){fa.push(A);if(oa[V._id])oa[V._id].push(A);else oa[V._id]=[A]}function S(){fa=[];oa={}}function u(V,A){A.click(function(q){if(!A.hasClass("ui-draggable-dragging")&&
!A.hasClass("ui-resizable-resizing"))return g("eventClick",this,V,q)}).hover(function(q){g("eventMouseover",this,V,q)},function(q){g("eventMouseout",this,V,q)})}function B(V,A){na(V,A,"show")}function ia(V,A){na(V,A,"hide")}function na(V,A,q){V=oa[V._id];var c,C=V.length;for(c=0;c<C;c++)if(!A||V[c][0]!=A[0])V[c][q]()}function ra(V,A,q,c,C,D,T,ha){var aa=A.allDay,H=A._id;va(W[H],q,c,C,ha);g("eventDrop",V,A,q,c,C,function(){va(W[H],-q,-c,aa);sa(H)},D,T,ha);sa(H)}function xa(V,A,q,c,C,D){var T=A._id;
ga(W[T],q,c);g("eventResize",V,A,q,c,function(){ga(W[T],-q,-c);sa(T)},C,D);sa(T)}function va(V,A,q,c,C){q=q||0;for(var D,T=V.length,ha=0;ha<T;ha++){D=V[ha];if(c!==ta)D.allDay=c;wa(Z(D.start,A,true),q);if(D.end)D.end=wa(Z(D.end,A,true),q);if(D.resource!=C&&T==1)D.resource=C;ua(D,qa)}}function ga(V,A,q){q=q||0;for(var c,C=V.length,D=0;D<C;D++){c=V[D];c.end=wa(Z(n(c),A,true),q);ua(c,qa)}}var ba=this;ba.element=a;ba.calendar=b;ba.name=e;ba.opt=d;ba.trigger=g;ba.isEventDraggable=l;ba.isEventResizable=
j;ba.reportEvents=h;ba.eventEnd=n;ba.reportEventElement=O;ba.reportEventClear=S;ba.eventElementHandlers=u;ba.showEvents=B;ba.hideEvents=ia;ba.eventDrop=ra;ba.eventResize=xa;var ja=ba.defaultEventEnd,ua=b.normalizeEvent,sa=b.reportEventChange,W={},fa=[],oa={},qa=b.options}function Cb(){function a(z,I){var L=D(),Q=sa(),F=W(),s=0,k,m,G=z.length,M,v;L[0].innerHTML=e(z);d(z,L.children());g(z);l(z,L,I);j(z);i(z);h(z);I=n();for(L=0;L<Q;L++){k=[];for(m=0;m<F;m++)k[m]=0;for(;s<G&&(M=z[s]).row==L;){m=Qb(k.slice(M.startCol,
M.endCol));M.top=m;m+=M.outerHeight;for(v=M.startCol;v<M.endCol;v++)k[v]=m;s++}I[L].height(Qb(k))}S(z,O(I))}function b(z,I,L){var Q=p("<div/>"),F=D(),s=z.length,k;Q[0].innerHTML=e(z);Q=Q.children();F.append(Q);d(z,Q);j(z);i(z);h(z);S(z,O(n()));Q=[];for(F=0;F<s;F++)if(k=z[F].element){z[F].row===I&&k.css("top",L);Q.push(k[0])}return p(Q)}function e(z){var I=ia("isRTL"),L,Q=z.length,F,s,k,m;L=oa();var G=L.left,M=L.right,v,y,J,da,ea,w="",R=ma();for(L=0;L<Q;L++){F=z[L];s=F.event;m=["fc-event","fc-event-skin",
"fc-event-hori"];ra(s)&&m.push("fc-event-draggable");if(I){F.isStart&&m.push("fc-corner-right");F.isEnd&&m.push("fc-corner-left");v=A(F.end.getDay()-1);y=A(F.start.getDay());J=F.isEnd?qa(v):G;da=F.isStart?V(y):M}else{F.isStart&&m.push("fc-corner-left");F.isEnd&&m.push("fc-corner-right");if(R=="resourceMonth"){v=F.start.getDate()-1;y=F.end.getDate()-2;if(y<0)y=W()-1}else if(R=="resourceNextWeeks"){v=c(F.start).col;y=c(F.end).col-1}else if(R=="resourceDay"){v=q(F.start);y=q(F.end)-1}else{v=A(F.start.getDay());
y=A(F.end.getDay()-1)}J=F.isStart?qa(v):G;da=F.isEnd?V(y):M}m=m.concat(s.className);if(s.source)m=m.concat(s.source.className||[]);k=s.url;ea=Sb(s,ia);w+=k?"<a href='"+Ua(k)+"'":"<div";w+=" class='"+m.join(" ")+"' style='position:absolute;z-index:8;left:"+J+"px;"+ea+"'><div class='fc-event-inner fc-event-skin'"+(ea?" style='"+ea+"'":"")+">";if(!s.allDay&&F.isStart)w+="<span class='fc-event-time'>"+Ua(ha(s.start,s.end,ia("timeFormat")))+"</span>";w+="<span class='fc-event-title' "+(ea?" style='"+ea+
"'":"")+">"+Ua(s.title)+"</span></div>";if(F.isEnd&&xa(s))w+="<div class='ui-resizable-handle ui-resizable-"+(I?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>";w+="</"+(k?"a":"div")+">";F.left=J;F.outerWidth=da-J;F.startCol=v;F.endCol=y+1}return w}function d(z,I){var L,Q=z.length,F,s,k;for(L=0;L<Q;L++){F=z[L];s=F.event;k=p(I[L]);s=na("eventRender",s,s,k);if(s===false)k.remove();else{if(s&&s!==true){s=p(s).css({position:"absolute",left:F.left});k.replaceWith(s);k=s}F.element=k}}}function g(z){var I,L=z.length,
Q,F;for(I=0;I<L;I++){Q=z[I];(F=Q.element)&&ga(Q.event,F)}}function l(z,I,L){var Q,F=z.length,s,k,m;for(Q=0;Q<F;Q++){s=z[Q];if(k=s.element){m=s.event;if(m._id===L)T(m,k,s);else k[0]._fci=Q}}Mb(I,z,T)}function j(z){var I,L=z.length,Q,F,s,k,m={};for(I=0;I<L;I++){Q=z[I];if(F=Q.element){s=Q.key=Rb(F[0]);k=m[s];if(k===ta)k=m[s]=ub(F,true);Q.hsides=k}}}function i(z){var I,L=z.length,Q,F;for(I=0;I<L;I++){Q=z[I];if(F=Q.element)F[0].style.width=Math.max(0,Q.outerWidth-Q.hsides)+"px"}}function h(z){var I,L=
z.length,Q,F,s,k,m={};for(I=0;I<L;I++){Q=z[I];if(F=Q.element){s=Q.key;k=m[s];if(k===ta)k=m[s]=Ob(F);Q.outerHeight=F[0].offsetHeight+k}}}function n(){var z,I=sa(),L=[];for(z=0;z<I;z++)L[z]=fa(z).find("td:not(.fc-resourceName):first div.fc-day-content > div");return L}function O(z){var I,L=z.length,Q=[];for(I=0;I<L;I++)Q[I]=z[I][0].offsetTop;return Q}function S(z,I){var L,Q=z.length,F,s;for(L=0;L<Q;L++){F=z[L];if(s=F.element){var k=parseInt(F.top)>0?parseInt(F.top):0;s[0].style.top=I[F.row]+k+"px";
F=F.event;na("eventAfterRender",F,F,s)}}}function u(z,I,L){var Q=ia("isRTL"),F=Q?"w":"e",s=I.find("div.ui-resizable-"+F),k=false;Za(I);I.mousedown(function(m){m.preventDefault()}).click(function(m){if(k){m.preventDefault();m.stopImmediatePropagation()}});s.mousedown(function(m){function G($){na("eventResizeStop",this,z,$);p("body").css("cursor","");M.stop();H();w&&ua(this,z,w,0,$);setTimeout(function(){k=false},0)}if(m.which==1){k=true;var M=B.getHoverListener(),v=sa(),y=W(),J=Q?-1:1,da=Q?y-1:0,ea=
I.css("top"),w,R,ka=p.extend({},z),pa=c(z.start);Y();p("body").css("cursor",F+"-resize").one("mouseup",G);na("eventResizeStart",this,z,m);M.start(function($,E){if($){var f=Math.max(pa.row,$.row);$=$.col;if(v==1)f=0;if(f==pa.row)$=Q?Math.min(pa.col,$):Math.max(pa.col,$);w=f*7+$*J+da-(E.row*7+E.col*J+da);E=Z(va(z),w,true);if(w){ka.end=E;f=R;R=b(C([ka]),L.row,ea);R.find("*").css("cursor",F+"-resize");f&&f.remove();ja(z)}else if(R){ba(z);R.remove();R=null}H();aa(z.start,Z(x(E),1))}},m)}})}var B=this;
B.renderDaySegs=a;B.resizableDayEvent=u;B.renderTempDaySegs=b;var ia=B.opt,na=B.trigger,ra=B.isEventDraggable,xa=B.isEventResizable,va=B.eventEnd,ga=B.reportEventElement,ba=B.showEvents,ja=B.hideEvents,ua=B.eventResize,sa=B.getRowCnt,W=B.getColCnt,fa=B.allDayRow,oa=B.allDayBounds,qa=B.colContentLeft,V=B.colContentRight,A=B.dayOfWeekCol,q=B.timeOfDayCol,c=B.dateCell,C=B.compileDaySegs,D=B.getDaySegmentContainer,T=B.bindDaySeg,ha=B.calendar.formatDates,aa=B.renderDayOverlay,H=B.clearOverlays,Y=B.clearSelection,
ma=B.getViewName}function yb(){function a(u,B,ia){b();B||(B=i(u,ia));h(u,B,ia);e(u,B,ia)}function b(u){if(S){S=false;n();j("unselect",null,u)}}function e(u,B,ia,na,ra){S=true;j("select",null,u,B,ia,na,"",ra)}function d(u){var B=g.cellDate,ia=g.cellIsAllDay,na=g.getHoverListener(),ra=g.reportDayClick,xa,va=l("resources"),ga=O();if(u.which==1&&l("selectable")){b(u);var ba;na.start(function(ja,ua){n();if(ja&&ia(ja)){ba=[B(ua),B(ja)].sort(Pb);h(ba[0],ba[1],ga=="resourceDay"?false:true,ja.row);xa=ja.row}else ba=
null},u);p(document).one("mouseup",function(ja){na.stop();if(ba){if(+ba[0]==+ba[1])ra(ba[0],ga=="resourceDay"?false:true,ja);e(ba[0],ga=="resourceDay"?wa(ba[1],l("slotMinutes")):ba[1],ga=="resourceDay"?false:true,ja,va[xa])}})}}var g=this;g.select=a;g.unselect=b;g.reportSelection=e;g.daySelectionMousedown=d;var l=g.opt,j=g.trigger,i=g.defaultSelectionEnd,h=g.renderSelection,n=g.clearSelection,O=g.getViewName,S=false;l("selectable")&&l("unselectAuto")&&p(document).mousedown(function(u){var B=l("unselectCancel");
if(B)if(p(u.target).parents(B).length)return;b(u)})}function xb(){function a(l,j){var i=g.shift();i||(i=p("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>"));i[0].parentNode!=j[0]&&i.appendTo(j);d.push(i.css(l).show());return i}function b(){for(var l;l=d.shift();)g.push(l.hide().unbind())}var e=this;e.renderOverlay=a;e.clearOverlays=b;var d=[],g=[]}function zb(a){var b=this,e,d;b.build=function(){e=[];d=[];a(e,d)};b.cell=function(g,l){var j=e.length,i=d.length,h,n=-1,O=-1;for(h=
0;h<j;h++)if(l>=e[h][0]&&l<e[h][1]){n=h;break}for(h=0;h<i;h++)if(g>=d[h][0]&&g<d[h][1]){O=h;break}return n>=0&&O>=0?{row:n,col:O}:null};b.rect=function(g,l,j,i,h){h=h.offset();return{top:e[g][0]-h.top,left:d[l][0]-h.left,width:d[i][1]-d[l][0],height:e[j][1]-e[g][0]}}}function Ab(a){function b(i){Fc(i);i=a.cell(i.pageX,i.pageY);if(!i!=!j||i&&(i.row!=j.row||i.col!=j.col)){if(i){l||(l=i);g(i,l,i.row-l.row,i.col-l.col)}else g(i,l);j=i}}var e=this,d,g,l,j;e.start=function(i,h,n){g=i;l=j=null;a.build();
b(h);d=n||"mousemove";p(document).bind(d,b)};e.stop=function(){p(document).unbind(d,b);return j}}function Fc(a){if(a.pageX===ta){a.pageX=a.originalEvent.pageX;a.pageY=a.originalEvent.pageY}}function Bb(a){function b(j){return d[j]=d[j]||a(j)}var e=this,d={},g={},l={};e.left=function(j){return g[j]=g[j]===ta?b(j).position().left:g[j]};e.right=function(j){return l[j]=l[j]===ta?e.left(j)+b(j).width():l[j]};e.clear=function(){d={};g={};l={}}}var cb={defaultView:"month",aspectRatio:1.35,header:{left:"title",
center:"",right:"today prev,next"},weekends:true,allDayDefault:true,ignoreTimezone:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy",resourceMonth:"MMMM yyyy",resourceWeek:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",resourceNextWeeks:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",resourceDay:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d",resourceDay:"H:mm",resourceMonth:"M/d",
resourceWeek:"ddd M/d",resourceNextWeeks:"ddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",
prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day",resourceDay:"resource day",resourceWeek:"resource week",resourceNextWeeks:"resource next weeks",resourceMonth:"resource month"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,dropAccept:"*",numberOfWeeks:4,weekPrefix:"Week"},Gc={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",
prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Da=p.fullCalendar={version:"1.5.3"},Fa=Da.views={};p.fn.fullCalendar=function(a){if(typeof a=="string"){var b=Array.prototype.slice.call(arguments,1),e;this.each(function(){var g=p.data(this,"fullCalendar");if(g&&p.isFunction(g[a])){g=g[a].apply(g,b);if(e===ta)e=g;a=="destroy"&&p.removeData(this,"fullCalendar")}});if(e!==ta)return e;return this}var d=a.eventSources||[];
delete a.eventSources;if(a.events){d.push(a.events);delete a.events}a=p.extend(true,{},cb,a.isRTL||a.isRTL===ta&&cb.isRTL?Gc:{},a);this.each(function(g,l){g=p(l);l=new $b(g,a,d);g.data("fullCalendar",l);l.render()});return this};Da.sourceNormalizers=[];Da.sourceFetchers=[];var dc={dataType:"json",cache:false},ec=1;Da.addDays=Z;Da.cloneDate=x;Da.parseDate=rb;Da.parseISO8601=Kb;Da.parseTime=Ra;Da.formatDate=Qa;Da.formatDates=pb;var tb=864E5,gc=36E5,Ec=6E4,hc={s:function(a){return a.getSeconds()},ss:function(a){return Ta(a.getSeconds())},
m:function(a){return a.getMinutes()},mm:function(a){return Ta(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return Ta(a.getHours()%12||12)},H:function(a){return a.getHours()},HH:function(a){return Ta(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return Ta(a.getDate())},ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},W:function(a){return Jb(a)},M:function(a){return a.getMonth()+1},MM:function(a){return Ta(a.getMonth()+
1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},t:function(a){return a.getHours()<12?"a":"p"},tt:function(a){return a.getHours()<12?"am":"pm"},T:function(a){return a.getHours()<12?"A":"P"},TT:function(a){return a.getHours()<12?"AM":"PM"},u:function(a){return Qa(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){a=a.getDate();if(a>10&&a<20)return"th";
return["st","nd","rd"][a%10-1]||"th"}};Da.applyAll=db;Fa.month=pc;Fa.basicWeek=qc;Fa.basicDay=rc;nb({weekMode:"fixed"});Fa.resourceDay=tc;Fa.resourceWeek=uc;Fa.resourceNextWeeks=vc;Fa.resourceMonth=wc;nb({weekMode:"fixed"});Fa.agendaWeek=yc;Fa.agendaDay=zc;nb({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24})})(jQuery);
